---
layout: page
section: analystRU
title: "Загрузка CSV файлов"
date: 2019-05-14 12:00:00
order: 0
---
> ВНИМАНИЕ! Для активации данного функционала необходимо включить и настроить интеграцию [DDManager Streaming](/ru/integrations/ddmanager-streaming).

Функционал загрузки CSV файлов позволяет импортировать данные о расходах из CSV файлов в Google BigQuery.

![](/img/manual.data.import.1.png)

Чтобы загрузить файл, перейдите по в раздел "Импорт данных → Ручной" (1)

Выбирите файл, нажав кнопку "Choose file" (2)

Загрузите файл, нажав кнопку "Upload" (3)

### Требования  к файлу
------
Максимальный размер файла: 1MB.
Формат файла: csv, txt.
Первая строка файла является заголовком и должна содержать в себе поля, разделённые запятыми:
`source,medium,campaign,term,content,cost,clicks,impressions,date`

Поля date и cost являются обязательными.

Описание полей:

Поле|Описание
--- | ---
source | Источник кампании
medium | Тип трафика
campaign | Название кампании
term | Ключевое слово
content | Идентификатор объявления
cost | Стоимость
clicks | Количество кликов
impressions | Количество показов
date | Дата в формате yyyy-mm-dd

### Обработка файлов
------

Обработка  производится автоматически, это может занять до 24 часов, после чего данные появятся в BigQuery.

При ручном импорте данных существующие данные в таблице  не перезаписываются, а только добавляются, это значит что:

* Если было загруженно несколько файлов, даты в которых совпадают, то данные будут добавлены в конец таблицы.

* Если было загружено несколько файлов с одинаковым содержанием, то данные будут продублированы.

Содержимое файлов будет записано в таблицу с именем `customCosts` в проект и датасет, указанный в настройках интеграции DDManager Streaming.

Для того, чтобы посмотреть текущий проект и датасет интеграции DDManager Streaming:

1. Выберите проект
2. Перейдите в раздел интеграции
3. Выберите DDManager Streaming

![](/img/manual.data.import.2.png)

Откроется окно настройки интеграции, в нём указано ID проекта(1) и название датасета(2).
![](/img/manual.data.import.3.png)

Просмотреть содержимое этой таблицы вы можете через консоль GoogleBigQuery, для этого перейдите по ссылке [https://console.cloud.google.com/bigquery](https://console.cloud.google.com/bigquery) в открывшемся окне выберите проект, датасет и таблицу `customCosts`.

### Статусы обработки файлов
------
![](/img/manual.data.import.4.png)
После загрузки файла, он может принимать следующие статусы:

- В очереди (1) - Файл успешно загружен и находится в очереди на обработку.
- Ошибка (2) - При обработке файла произошла ошибка.
- Обработан (3) - Файл успешно обработан, данные загружены в Google BigQuery.
