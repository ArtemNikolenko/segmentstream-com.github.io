<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>SegmentStream documentation : digitalData object</title>
        <meta name="description" content="">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicon/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicon/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicon/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/favicon/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicon/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicon/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicon/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="/favicon/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="/favicon/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="&nbsp;"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="/favicon/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="/favicon/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="/favicon/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="/favicon/mstile-310x310.png" />

        <!-- <link rel="shortcut icon" type="image/x-icon" href="/favicon/favicon.ico"> -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css?v=1.1">
        <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
        <script src="/js/main.js?v=1.1"></script>
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <div class="row">
    <div class="col-sm-3 col-xs-12">
        <div id="menu-toggle"></div>
        <a target="_blank" href="https://admin.segmentstream.com/"><div id="login-button"></div></a>
        <a class="brand" href="/"><img src="/img/segmentstream-logo.png" height="47" alt=SegmentStream documentation
                class="ddm-logo">
        </a>
        <small></small>
    </div>

    <div class="col-sm-offset-5 col-sm-4 authorization">
        <ul class="top-nav">
            <li>
                <a id="button-auth" target="_blank" href="https://admin.segmentstream.com/">
                    
                    Login
                    
                </a>
            </li>
        </ul>
    </div>
        
            <a id="language-button" href='/ru/'>RU</a>
        
</div>


                </div>
            </div>
            <div class="row">
                
                
                    <div id="navigation" class="col-sm-3 col-md-3">
                        <ul class="nav nav-list" >
    
    
        
        
        
        
        
        
        
            <li class="nav-header analyst ">Analyst</li>
            
                <li class="drop-menu analyst " data-order="0">
                    <a href="/for-analyst/index">Overview</a>
                </li>
            
                <li class="drop-menu analyst " data-order="1">
                    <a href="/for-analyst/settings">Project settings</a>
                </li>
            
                <li class="drop-menu analyst " data-order="2">
                    <a href="/for-analyst/events">Events</a>
                </li>
            
                <li class="drop-menu analyst " data-order="2">
                    <a href="/for-analyst/integrations">Integrations</a>
                </li>
            
                <li class="drop-menu analyst " data-order="4">
                    <a href="/for-analyst/variables">Variables</a>
                </li>
            
                <li class="drop-menu analyst " data-order="5">
                    <a href="/for-analyst/scripts">Scripts</a>
                </li>
            
                <li class="drop-menu analyst " data-order="6">
                    <a href="/for-analyst/priorities">Priorities</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
            <li class="nav-header developer  active ">Developer</li>
            
                <li class="drop-menu developer active  " data-order="1">
                    <a href="/for-developer/index">Overview</a>
                </li>
            
                <li class="drop-menu developer active   current " data-order="2">
                    <a href="/for-developer/digitaldata">digitalData object</a>
                </li>
            
                <li class="drop-menu developer active  " data-order="2">
                    <a href="/for-developer/partners">Third-party system events</a>
                </li>
            
                <li class="drop-menu developer active  " data-order="3">
                    <a href="/for-developer/naming">Event and variable naming conventions</a>
                </li>
            
                <li class="drop-menu developer active  " data-order="3">
                    <a href="/for-developer/snippet">Connecting SegmentStream</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
            <li class="nav-header ecommerce ">Ecommerce integration</li>
            
                <li class="drop-menu ecommerce " data-order="1">
                    <a href="/ecommerce/main-page">Homepage</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="1">
                    <a href="/ecommerce/index">Overview</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="2">
                    <a href="/ecommerce/listing">Product category</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="3">
                    <a href="/ecommerce/search">Search results</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="4">
                    <a href="/ecommerce/product">Product page</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="5">
                    <a href="/ecommerce/cart">Cart</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="6">
                    <a href="/ecommerce/checkout">Checkout process page</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="7">
                    <a href="/ecommerce/transaction">'Thank You' page</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="8">
                    <a href="/ecommerce/content">Content page</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
            <li class="nav-header digitaldata  active ">Variable list</li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/wishlist">wishlist</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/cart">cart</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/changes">changes</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/context">context</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/events">events</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/listing">listing</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/page">page</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/product">product</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/recommendation">recommendation</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/standard-version">version</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/transaction">transaction</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/user">user</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/website">website</a>
                </li>
            
                <li class="drop-menu digitaldata active  " data-order="1">
                    <a href="/digitaldata/campaigns">campaigns</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
            <li class="nav-header events ">Events list</li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-product">Viewed Product</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/added-payment-info">Added Payment Info</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/added-product-to-wishlist">Added Product to Wishlist</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/added-product">Added Product</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/clicked-campaign">Clicked Campaign</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/clicked-product">Clicked Product</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/completed-checkout-step">Completed Checkout Step</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/completed-transaction">Completed Transaction</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/logged-in">Logged In</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/received-voucher">Received Voucher</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/refunded-transaction">Refunded Transaction</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/registered">Registered</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/removed-product-from-wishlist">Removed Product from Wishlist</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/removed-product">Removed Product</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/searched-products">Searched Products</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/started-order">Started Order</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/subscribed">Subscribed</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/unsubscribed">Unsubscribed</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/updated-cart">Updated Cart</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/updated-profile-info">Updated Profile Info</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-campaign">Viewed Campaign</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-cart">Viewed Cart</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-checkout-step">Viewed Checkout Step</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-experiment">Viewed Experiment</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-page">Viewed Page</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-product-detail">Viewed Product Detail</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-product-listing">Viewed Product Listing</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/achieved-experiment-goal">Achieved Experiment Goal</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
            <li class="nav-header integrations ">Integration list</li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/vkontakte">Vkontakte</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/criteo">Criteo</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/ddmanager-streaming">Streaming</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/facebook">Facebook</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/gdeslon">GdeSlon</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/google-adwords">Google Adwords</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/google-analytics">Google Analytics</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/onesignal">OneSignal</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/rtb-house">RTB House</a>
                </li>
            
                <li class="drop-menu integrations " data-order="1">
                    <a href="/integrations/yandex-metrica">Yandex.Metrica</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>


                    </div>

                    <div id="content" class="col-sm-9 col-md-7">
                        <div class="page-header">
    <h1>digitalData object
        
    </h1>
</div>

<p>In this section you will learn:</p>
<ul>
  <li>How to install the digitalData data layer on your website.</li>
  <li>How to correctly fill in all the variables inside the digitalData object.</li>
</ul>

<p>digitalData is a global JavaScript object. It must be declared as high as possible in the source code of the site, <a href="/for-developer/snippet">before connecting the SegmentStream library</a>. This object should be present on every page of the site.</p>

<blockquote>
  <p>Declare the <code class="highlighter-rouge">window.digitalData</code> object the first time the page loads. Do not try to build a system in which the object is created after an AJAX request. This decision will negatively affect your marketing infrastructure and make it unmanageable.</p>
</blockquote>

<h3 id="page-contents">Page contents</h3>
<hr />
<ul class="page-navigation">
  <li><a href="#0">Introduction</a></li>
  <li><a href="#1">How to fill the object</a></li>
</ul>

<h3 id="introduction"><a name="0"></a>Introduction</h3>
<hr />
<p>Let’s analyze the structure of the object in more detail. The object consists of other objects and arrays. All these objects and arrays must be filled with information in accordance with the standard described in this documentation.</p>

<p>In general, the <code class="highlighter-rouge">digitalData</code> object looks like this:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nx">digitalData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">version</span><span class="p">:</span> <span class="s1">'1.1.2'</span><span class="p">,</span>
  <span class="na">website</span><span class="p">:</span> <span class="p">{...},</span>         <span class="c1">//Global information about the website</span>
  <span class="na">page</span><span class="p">:</span> <span class="p">{...},</span>            <span class="c1">//Data about the current page</span>
  <span class="na">user</span><span class="p">:</span> <span class="p">{...},</span>            <span class="c1">//Data about the visitor or authorized user</span>
  <span class="na">product</span><span class="p">:</span> <span class="p">{...},</span>         <span class="c1">//Data about the product currenly viewed</span>
  <span class="na">wishlist</span><span class="p">:</span> <span class="p">{...},</span>        <span class="c1">//Data about the users wishlist</span>
  <span class="na">cart</span><span class="p">:</span> <span class="p">{...},</span>            <span class="c1">//State of the users cart</span>
  <span class="na">transaction</span><span class="p">:</span> <span class="p">{...},</span>     <span class="c1">//Data about the completed transaction</span>
  <span class="na">listing</span><span class="p">:</span> <span class="p">{...},</span>         <span class="c1">//List of products viewed on the page</span>
  <span class="na">recommendation</span><span class="p">:</span> <span class="p">[...],</span>  <span class="c1">//List of recommended products viewed on the page</span>
  <span class="na">campaigns</span><span class="p">:</span> <span class="p">[...],</span>       <span class="c1">//List of internal promotion campaigns</span>
  <span class="na">changes</span><span class="p">:</span> <span class="p">[...],</span>         <span class="c1">//Changes that occured in the digitalData after it's initialization</span>
  <span class="na">events</span><span class="p">:</span> <span class="p">[...]</span>           <span class="c1">//Events that fired on the current page</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The detailed composition of each variable is discussed below.</p>

<h3 id="how-to-fill-the-object"><a name="1"></a>How to fill the object</h3>
<hr />
<p>digitalData can be represented as a structured description of the page that the visitor sees on the screen of his monitor. The composition of the digitalData object depends on the content of the page. Here are some examples:</p>
<ul>
  <li>The user loaded a product page and sees detailed information about the product: image, name, price, brand, etc. All this information should be contained in the object <code class="highlighter-rouge">digitalData.product</code></li>
  <li>The user loaded the main page, sees a list of recommended products and several banners. Information about the recommended products should be contained in the array <code class="highlighter-rouge">digitalData.recommendation</code>, and information about the banners in the array <code class="highlighter-rouge">digitalData.campaigns</code>.</li>
  <li>The basket icon with the number of items is visible on each page of the online store. This means that the object <code class="highlighter-rouge">digitalData.cart</code> must be filled on every page of the site.</li>
</ul>

<p>Also, digitalData contains information about the user that is visiting the website. This information may or may not be displayed explicitly, but should be present in the object, for example: whether the user subscribed to the email newletter, whether the user made purchases earlier, the user’s name, etc.</p>

<p>As you can see from the examples above, some variables must be filled on each page, others - only on certain types of pages. If the content of the page changes without reloading the page - the content of the object <code class="highlighter-rouge">digitalData</code> also needs to be changed.</p>

<p>Next, we’ll look in more detail at the standard for filling each variable and examine examples of filling an object for all typical pages of an online store.</p>

<p>Detailed object descriptions:</p>
<ul>
  <li><a href="/digitaldata/standard-version">version</a></li>
  <li><a href="/digitaldata/website">website</a></li>
  <li><a href="/digitaldata/page">page</a></li>
  <li><a href="/digitaldata/user">user</a></li>
  <li><a href="/digitaldata/product">product</a></li>
  <li><a href="/digitaldata/wishlist">wishlist</a></li>
  <li><a href="/digitaldata/cart">cart</a></li>
  <li><a href="/digitaldata/transaction">transaction</a></li>
  <li><a href="/digitaldata/listing">listing</a></li>
  <li><a href="/digitaldata/recommendation">recommendation</a></li>
  <li><a href="/digitaldata/campaigns">campaigns</a></li>
  <li><a href="/digitaldata/context">context</a></li>
  <li><a href="/digitaldata/#changes">changes</a></li>
  <li><a href="/digitaldata/events">events</a></li>
</ul>

<p>More detailed description of the composition of digitalData for <strong>typical pages of an online store</strong>:</p>
<ul>
  <li><a href="/ecommerce/main-page">Main page</a></li>
  <li><a href="/ecommerce/listing">Product listing</a></li>
  <li><a href="/ecommerce/search">Search results</a></li>
  <li><a href="/ecommerce/product">Product page</a></li>
  <li><a href="/ecommerce/cart">Cart</a></li>
  <li><a href="/ecommerce/checkout">Checkout pages</a></li>
  <li><a href="/ecommerce/confirmation">Thank you page</a></li>
  <li><a href="/ecommerce/content">Content page</a></li>
</ul>

<blockquote>
  <p>If your website is not an online store, you can still use the SegmentStream. We will help you prepare a data schema (the structure of the digitalData object) specifically for your project.</p>
</blockquote>


                    </div>
                
            </div>
            <button id="myBtn" title="Go to top"></button>
        </div>
        <div id="footer">
            <div class="questionaire">
    <div class="row step1">
        <div class="col-sm-6 question">
            
            Was this page helpful?
            
        </div>
        <div class="col-sm-6 answer">
            <div class="button-questionaire">
                YES
            </div>
            <div class="button-questionaire">
                NO
            </div>
        </div>
    </div>
    <div class="row step2">
        <div class="col-xs-12">
            
            Thanks for the feedback!
            
        </div>
    </div>
</div>
<a href="/"><img src="/img/segmentstream-logo.png" height="47" alt=SegmentStream documentation class="ddm-logo-footer"></a>
<p class="copyright">Copyright © 2019 "SegmentStream" All rights reserved.</p>

        </div>
        <!-- SegmentStream snippet -->
        <script type="text/javascript">
        (function(h,d){d=d||"cdn.segmentstream.com";var a=window.ddManager=window.ddManager||[];window.ddListener=window.ddListener||[];var b=window.digitalData=window.digitalData||{};b.events=b.events||[];b.changes=b.changes||[];if(!a.initialize)if(a.invoked)window.console&&console.error&&console.error("SegmentStream snippet included twice.");else{a.invoked=!0;a.methods="initialize addIntegration persist unpersist on once off setConsent".split(" ");a.factory=function(k){return function(){var c=Array.prototype.slice.call(arguments);
        c.unshift(k);a.push(c);return a}};for(b=0;b<a.methods.length;b++){var f=a.methods[b];a[f]=a.factory(f)}a.load=function(a){var c=document.createElement("script");c.type="text/javascript";c.charset="utf-8";c.async=!0;c.src=a;a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(c,a)};a.loadProject=function(b){var c=window.location.search;if(0<=c.indexOf("ddm_test_mode=1"))try{var e=!0;window.localStorage.setItem("_ddm_test_mode","1")}catch(g){}else if(0<=c.indexOf("ddm_test_mode=0"))try{e=
        !1,window.localStorage.removeItem("_ddm_test_mode")}catch(g){}else try{e="1"===window.localStorage.getItem("_ddm_test_mode")}catch(g){}e?a.load(window.DDMANAGER_TESTMODE_INIT_URL||"https://api.segmentstream.com/v1/ddm-initialization/"+b+".js"):a.load(window.DDMANAGER_INIT_URL||"https://"+d+"/project/"+b+".js")};a.CDN_DOMAIN=d;a.SNIPPET_VERSION="1.0.11";a.loadProject(h)}})("975f9b27-a262-4758-9019-0bf81f566d68");
        </script>
        <!-- //SegmentStream snippet -->
    </body>
</html>
