---
layout: page
section: digitalDataRU
title: "recommendation"
order: 1
---

Массив `digitalData.recommendation` содержит в себе объекты `listing`, которые описывают списки рекомендованных товаров, расположенных на странице

### Навигация по странице
------
<ul class="page-navigation">
  <li><a href="#0">Введение</a></li>
  <li><a href="#1">Что делать, если список рекомендаций формируется сторонней системой?</a></li>
</ul>


### <a name="0"></a>Введение
------
Массив `digitalData.recommendation` должен быть объявлен и заполнен в исходном коде странице или после AJAX-загрзуки списка рекомендаций.

Пример заполнения:
```javascript
window.digitalData = {
  ...,
  recommendation: [
    ...,
    { //это объект listing
      listName: "Список недавно просмотренных товаров",
      listId: "recentlyViewed",
      items: [Product, Product, Product, ...]
    },
    { //это объект listing
      listName: "С этим товаром часто покупают",
      listId: "crossSell",
      items: [Product, Product, Product, ...]
    },
    ...
  ],
  ...
}
```

>Объект `listing` в составе массива `digitalData.recommendation` состоит только из 3-х переменных.

[Подробное описание объекта `listing`](/digitaldata/listing)

### <a name="1"></a>Что делать, если список рекомендаций формируется сторонней системой?
------
Существуют сервисы, которые генерируют список рекомендаций на своей стороне. После загрузки страницы вашего сайта сервис интегрируют сгенерированный список в код вашего сайта. При этом для пользователя список интеграций подгружается немного позже основного контента страницы.

В таком случае подключенная система сама отслеживает показы товарных блоков и клики по товарам. Чтобы передать информацию о показах и кликах в Google Analytics, необходимо, чтобы система настроила добавление событий в массив `digitalData.events`. Передайте менеджеру подключаемой системы ссылку на [инструкцию для разработчиков партнерских систем](/for-developer/partners) для корректного отслеживания событий в Google Analytics.
