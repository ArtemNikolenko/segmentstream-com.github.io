<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>SegmentStream documentation : Integrations</title>
        <meta name="description" content="">

        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicon/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicon/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicon/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/favicon/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicon/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicon/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicon/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="/favicon/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="/favicon/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="&nbsp;"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="/favicon/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="/favicon/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="/favicon/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="/favicon/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="/favicon/mstile-310x310.png" />

        <!-- <link rel="shortcut icon" type="image/x-icon" href="/favicon/favicon.ico"> -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css?v=1.1">
        <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
        <script src="/js/main.js?v=1.1"></script>
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <div class="row">
    <div class="col-sm-3 col-xs-12">
        <div id="menu-toggle"></div>
        <a target="_blank" href="https://admin.segmentstream.com/"><div id="login-button"></div></a>
        <a class="brand" href="/"><img src="/img/segmentstream-logo.png" height="47" alt=SegmentStream documentation
                class="ddm-logo">
        </a>
        <small></small>
    </div>

    <div class="col-sm-offset-5 col-sm-4 authorization">
        <ul class="top-nav">
            <li>
                <a id="button-auth" target="_blank" href="https://admin.segmentstream.com/">
                    
                    Login
                    
                </a>
            </li>
        </ul>
    </div>
        
            <a id="language-button" href='/ru/'>RU</a>
        
</div>


                </div>
            </div>
            <div class="row">
                
                
                    <div id="navigation" class="col-sm-3 col-md-3">
                        <ul class="nav nav-list" >
    
    
        
        
        
        
        
        
        
        
            <li class="nav-header analyst  active ">Analyst</li>
            
                <li class="drop-menu analyst active  " data-order="0">
                    <a href="/for-analyst/index">Overview</a>
                </li>
            
                <li class="drop-menu analyst active  " data-order="0">
                    <a href="/for-analyst/manual-imports">CSV file upload</a>
                </li>
            
                <li class="drop-menu analyst active  " data-order="1">
                    <a href="/for-analyst/settings">Project settings</a>
                </li>
            
                <li class="drop-menu analyst active  " data-order="2">
                    <a href="/for-analyst/events">Events</a>
                </li>
            
                <li class="drop-menu analyst active   current " data-order="2">
                    <a href="/for-analyst/integrations">Integrations</a>
                </li>
            
                <li class="drop-menu analyst active  " data-order="4">
                    <a href="/for-analyst/variables">Variables</a>
                </li>
            
                <li class="drop-menu analyst active  " data-order="5">
                    <a href="/for-analyst/scripts">Scripts</a>
                </li>
            
                <li class="drop-menu analyst active  " data-order="6">
                    <a href="/for-analyst/priorities">Priorities</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
        
            <li class="nav-header developer ">Developer</li>
            
                <li class="drop-menu developer " data-order="1">
                    <a href="/for-developer/index">Overview</a>
                </li>
            
                <li class="drop-menu developer " data-order="2">
                    <a href="/for-developer/digitaldata">digitalData object</a>
                </li>
            
                <li class="drop-menu developer " data-order="2">
                    <a href="/for-developer/partners">Third-party system events</a>
                </li>
            
                <li class="drop-menu developer " data-order="3">
                    <a href="/for-developer/naming">Event and variable naming conventions</a>
                </li>
            
                <li class="drop-menu developer " data-order="3">
                    <a href="/for-developer/snippet">Connecting SegmentStream</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
        
            <li class="nav-header ecommerce ">Ecommerce integration</li>
            
                <li class="drop-menu ecommerce " data-order="1">
                    <a href="/ecommerce/main-page">Homepage</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="1">
                    <a href="/ecommerce/index">Overview</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="2">
                    <a href="/ecommerce/listing">Product category</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="3">
                    <a href="/ecommerce/search">Search results</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="4">
                    <a href="/ecommerce/product">Product page</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="5">
                    <a href="/ecommerce/cart">Cart</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="6">
                    <a href="/ecommerce/checkout">Checkout process page</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="7">
                    <a href="/ecommerce/transaction">'Thank You' page</a>
                </li>
            
                <li class="drop-menu ecommerce " data-order="8">
                    <a href="/ecommerce/content">Content page</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
        
            <li class="nav-header digitaldata ">Variable list</li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/wishlist">wishlist</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/cart">cart</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/changes">changes</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/context">context</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/events">events</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/listing">listing</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/page">page</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/product">product</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/recommendation">recommendation</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/standard-version">version</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/transaction">transaction</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/user">user</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/website">website</a>
                </li>
            
                <li class="drop-menu digitaldata " data-order="1">
                    <a href="/digitaldata/campaigns">campaigns</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
        
            <li class="nav-header events ">Events list</li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-product">Viewed Product</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/added-payment-info">Added Payment Info</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/added-product-to-wishlist">Added Product to Wishlist</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/added-product">Added Product</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/clicked-campaign">Clicked Campaign</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/clicked-product">Clicked Product</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/completed-checkout-step">Completed Checkout Step</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/completed-transaction">Completed Transaction</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/logged-in">Logged In</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/received-voucher">Received Voucher</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/refunded-transaction">Refunded Transaction</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/registered">Registered</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/removed-product-from-wishlist">Removed Product from Wishlist</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/removed-product">Removed Product</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/searched-products">Searched Products</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/started-order">Started Order</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/subscribed">Subscribed</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/unsubscribed">Unsubscribed</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/updated-cart">Updated Cart</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/updated-profile-info">Updated Profile Info</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-campaign">Viewed Campaign</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-cart">Viewed Cart</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-checkout-step">Viewed Checkout Step</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-experiment">Viewed Experiment</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-page">Viewed Page</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-product-detail">Viewed Product Detail</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/viewed-product-listing">Viewed Product Listing</a>
                </li>
            
                <li class="drop-menu events " data-order="2">
                    <a href="/events/achieved-experiment-goal">Achieved Experiment Goal</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
        
            <li class="nav-header integrations  active ">Integration list</li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/vkontakte">Vkontakte</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/criteo">Criteo</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/ddmanager-streaming">Streaming</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/facebook">Facebook</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/gdeslon">GdeSlon</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/google-adwords">Google Adwords</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/google-analytics">Google Analytics</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/onesignal">OneSignal</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/rtb-house">RTB House</a>
                </li>
            
                <li class="drop-menu integrations active  " data-order="1">
                    <a href="/integrations/yandex-metrica">Yandex.Metrica</a>
                </li>
            
        
        
    
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>


                    </div>

                    <div id="content" class="col-sm-9 col-md-7">
                        <div class="page-header">
    <h1>Integrations
        
    </h1>
</div>

<p>Each integration is a connector between <code class="highlighter-rouge">digitalData</code> and a third-party system. An integration can listen to all events added to the array <code class="highlighter-rouge">digitalData.events</code>, and also convert events into a format required for a third-party system. If an event is necessary for a system, <strong>SegmentStream</strong> sends it.</p>

<h3 id="page-contents">Page contents</h3>
<hr />
<ul class="page-navigation">
  <li><a href="#0">Introduction</a></li>
  <li><a href="#1">Setup</a></li>
  <li><a href="#2">Event variables</a></li>
  <li><a href="#3">Testing</a></li>
  <li><a href="#4">Publication</a></li>
</ul>

<h3 id="-introduction"><a name="0"></a> Introduction</h3>
<hr />
<p>For integrations to work, you will need to configure the addition of semantic events to the <code class="highlighter-rouge">digitalData.events</code> array: <a href="/events/viewed-product-detail">Viewed Product Detail</a>, <a href="/events/clicked-product">Clicked Product</a>, <a href="/events/added-product">Added Product</a>, <a href="/events/completed-transaction">Completed Transaction</a>, and others. Each integration uses its own set of events. The complete list of reserved events is described in the documentation.</p>

<p>The integration management interface contains 2 tabs:</p>
<ul>
  <li><strong>Settings</strong>. Each integration has a set of settings. For some integrations, this is only a unique identifier in a third-party system, for others - a fairly long list. You will find the description of the settings of all integrations on the corresponding pages.</li>
  <li><strong>Event variables</strong>. Each event contains a set of variables. It is sometimes necessary that, depending on certain conditions, variables must take non-standard values. For example, you can use different product feeds with different product identifiers for each region of Europe. In this case, it is necessary to redefine <code class="highlighter-rouge">product.id</code> on the fly.</li>
</ul>

<p>The typical process for connecting any integration is described below.</p>

<h3 id="-setup"><a name="1"></a> Setup</h3>
<hr />
<p>On the “Integration” screen, select the system that you want to connect and click on the card of this system.</p>

<p><img src="/img/integrations.1.png" alt="" /></p>

<blockquote>
  <p>The green indicator on the integration card indicates its active state.</p>
</blockquote>

<p>You can set up the integration inside the panel. Read more about each integration in the appropriate section of the documentation.</p>

<h3 id="-event-variables"><a name="2"></a> Event variables</h3>
<hr />
<p>Let’s take a look at an example of the product identifier override depending on the region of the user on a Google Adwords integration.</p>
<ol>
  <li>Click the “Event Variables” tab and click “Add”
  <img src="/img/integrations.4.png" alt="" /></li>
  <li>In the window that opens, fill in the fields: Scope, Variable name, Event handler.</li>
  <li>In the “Scope” field, you must specify the scope where you want to change the value, if you select “Event”, then the variable name specified in the input below will only be modified on a particular event, if you select “Product”, then all instances of the product object will have the specified variable overwritten. Since we need to have the same product identifier for the whole integration, we select <code class="highlighter-rouge">product</code>.</li>
  <li>In the “Variable name” field, you must specify the variable whose value you want to change. Since the Google Adwords integration gets data from <code class="highlighter-rouge">digitalData.events[].product.id</code> when a product page is viewed, it is necessary to specify <code class="highlighter-rouge">id</code> in the configuration field.</li>
  <li>If we would have selected <code class="highlighter-rouge">event</code> on step 2, the “Event name” field would be present, here you must specify the name of the event whose variables will be overwritten “on the fly”. If you do not specify any name, the overwrite will work for all events in which the variable specified in the “Variable Name” field occurs.</li>
  <li>The event handler must return a value (contain the return construct). The value returned by this function will be placed in the variable specified in the “Variable Name” field of the selected scope when any event occurs.
  <img src="/img/integrations.5.png" alt="" /></li>
</ol>

<p>As you can see in the example, the variable <code class="highlighter-rouge">product.id</code> takes a different value depending on the region of the user. For users from Moscow, the suffix “-moscow” is added to the value of the field <code class="highlighter-rouge">digitalData.product.id</code>.
If before in Google Adwords the following value of the productId variable would have passed: “3856”, then after the change, the value will be “3856003-moscow”.</p>

<ul>
  <li>‘3856’ - is the product identifier, it has the same value for all variations of this product</li>
  <li>‘3856003’ - is the skuCode, it has a different values for each variation of this product. For example, for sneakers of a certain color and size 40, the value will be ‘3856001’, for the same sneakers of size 41 - ‘3856002’.</li>
  <li>‘3856003-moscow’ - is the value of the product identifier, as marked in the XML-feed sent to Google Adwords for the ‘Moscow’ region.</li>
</ul>

<h3 id="-testing"><a name="3"></a> Testing</h3>
<hr />
<p>Testing is necessary after setting up an integration. This can be done in <strong>test_mode</strong> mode.</p>

<blockquote>
  <p>To activate test_mode you should load any page of your website with the ddm_test_mode=1 GET-parameter, for example: <a href="http://shop1.driveback.ru/?ddm_test_mode=1">http://shop1.driveback.ru/?ddm_test_mode=1</a></p>
</blockquote>

<p>Open the console (right mouse button -&gt; View page code). In the console, you will see a sequence of events sent to the connected integrations. Along with the events, you will see all the variables that are sent in each integration. There are 3 indicators:</p>
<ol>
  <li>If everything is set up correctly, all variables under the integration will be written in green</li>
  <li>Variables with non-critical errors will be orange</li>
  <li>Variables with critical errors will be red and marked with a <code class="highlighter-rouge">x&gt;</code> symbol, which means that the event wasn’t sent to the integration</li>
</ol>

<p><img src="/img/integrations.2.png" alt="" />
 <img src="/img/integrations.3.png" alt="" /></p>

<p>If there is an error, pay attention to the line indicating the error. The most common mistake is that you do not pass the variable you need to integrate into digitalData when loading the page.</p>

<h3 id="-publication"><a name="4"></a> Publication</h3>
<hr />
<p>After you test the integration in test_mode mode, you can publish the project. To do this, click the “Publish” button at the top right of the page.</p>


                    </div>
                
            </div>
            <button id="myBtn" title="Go to top"></button>
        </div>
        <div id="footer">
            <div class="questionaire">
    <div class="row step1">
        <div class="col-sm-6 question">
            
            Was this page helpful?
            
        </div>
        <div class="col-sm-6 answer">
            <div class="button-questionaire">
                YES
            </div>
            <div class="button-questionaire">
                NO
            </div>
        </div>
    </div>
    <div class="row step2">
        <div class="col-xs-12">
            
            Thanks for the feedback!
            
        </div>
    </div>
</div>
<a href="/"><img src="/img/segmentstream-logo.png" height="47" alt=SegmentStream documentation class="ddm-logo-footer"></a>
<p class="copyright">Copyright © 2019 "SegmentStream" All rights reserved.</p>

        </div>
        <!-- SegmentStream snippet -->
        <script type="text/javascript">
        (function(h,d){d=d||"cdn.segmentstream.com";var a=window.ddManager=window.ddManager||[];window.ddListener=window.ddListener||[];var b=window.digitalData=window.digitalData||{};b.events=b.events||[];b.changes=b.changes||[];if(!a.initialize)if(a.invoked)window.console&&console.error&&console.error("SegmentStream snippet included twice.");else{a.invoked=!0;a.methods="initialize addIntegration persist unpersist on once off setConsent".split(" ");a.factory=function(k){return function(){var c=Array.prototype.slice.call(arguments);
        c.unshift(k);a.push(c);return a}};for(b=0;b<a.methods.length;b++){var f=a.methods[b];a[f]=a.factory(f)}a.load=function(a){var c=document.createElement("script");c.type="text/javascript";c.charset="utf-8";c.async=!0;c.src=a;a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(c,a)};a.loadProject=function(b){var c=window.location.search;if(0<=c.indexOf("ddm_test_mode=1"))try{var e=!0;window.localStorage.setItem("_ddm_test_mode","1")}catch(g){}else if(0<=c.indexOf("ddm_test_mode=0"))try{e=
        !1,window.localStorage.removeItem("_ddm_test_mode")}catch(g){}else try{e="1"===window.localStorage.getItem("_ddm_test_mode")}catch(g){}e?a.load(window.DDMANAGER_TESTMODE_INIT_URL||"https://api.segmentstream.com/v1/ddm-initialization/"+b+".js"):a.load(window.DDMANAGER_INIT_URL||"https://"+d+"/project/"+b+".js")};a.CDN_DOMAIN=d;a.SNIPPET_VERSION="1.0.11";a.loadProject(h)}})("975f9b27-a262-4758-9019-0bf81f566d68");
        </script>
        <!-- //SegmentStream snippet -->
    </body>
</html>
