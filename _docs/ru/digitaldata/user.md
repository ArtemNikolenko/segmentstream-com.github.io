---
layout: page
section: digitaldataRU
title: "user"
order: 1
---

Объект `digitalData.user` содержит в себе переменные, которые описывают посетителя сайта: имя, email, телефон, идентификатор в CRM, сегмент RFM т.д.

### Навигация по странице
------
<ul class="page-navigation">
  <li><a href="#0">Введение</a></li>
  <li><a href="#1">user.userId</a></li>
  <li><a href="#2">user.email</a></li>
  <li><a href="#3">user.phone</a></li>
  <li><a href="#4">user.isLoggedIn</a></li>
  <li><a href="#5">user.firstName</a></li>
  <li><a href="#6">user.lastName</a></li>
  <li><a href="#7">user.isReturning</a></li>
  <li><a href="#8">user.isSubscribed</a></li>
  <li><a href="#9">user.hasTransacted</a></li>
  <li><a href="#10">user.lastTransactionDate</a></li>
  <li><a href="#11">user.lastDeliveryDate</a></li>
  <li><a href="#12">user.birthDate</a></li>
  <li><a href="#13">user.googleClientId</a></li>
  <li><a href="#14">user.segment</a></li>
</ul>


### <a name="0"></a>Введение
------
Объект `digitalData.user` должен быть объявлен и заполнен в исходном коде каждой страницы сайта.

> Объявите переменную и присвойте ей пустой объект `{}`, Если нет никакой информации о посетителе. Если пользователь не авторизован, но система распознала его - заполните объект `digitalData.user` по максимуму.

Пример заполнения:
```javascript
window.digitalData = {
  ...,
  user: {
    firstName: "John",
    userId: "4638mn1",
    email: "johnd@example.com",
    isLoggedIn: true,
    isReturning: true,
    isSubscribed: false,
    googleClientId: "1234566778.7548375999",
    lastName: "Doe",
    hasTransacted: true,
    lastTransactionDate: "2017-12-01T09:00Z",
    segment: {
      rfm: "vip",
      churnRisk: "low",
      LTV: 178990
    }
  },
  ...
}
```

> Объект `digitalData.user` может содержать в себе и другие переменные. Все зависит от потребностей проекта. В данном документе приведены часто используемые переменные.

### <a name="1"></a>user.userId
------
Тип данных: строка.

`user.userId` - зарезервированная переменная, которая содержит в себе первичный идентификатор посетителя сайта в вашей базе данных. У посетителя может быть только 1 userId.

### <a name="2"></a>user.email
------
Тип данных: строка.

`user.email` - зарезервированная переменная, которая содержит в себе email-адрес посетителя. В случае наличия нескольких email-адресов у одного посетителя, передайте в поле `user.email` основной адрес. Все остальные адреса можно передать в массив `user.emails = ['email1@mail.ru', 'email2@yandex.ru']`.

### <a name="3"></a>user.phone
------
Тип данных: строка.

`user.phone` - зарезервированная переменная, которая содержит в себе телефонный номер посетителя. В случае наличия нескольких телефонных номеров у одного посетителя, передайте в поле `user.phone` основной номер. Все остальные номера можно передать в массив `user.emails = ['79161001010', '79161002020']`.

### <a name="4"></a>user.isLoggedIn
------
Тип данных: boolean.

`user.isLoggedIn` - зарезервированная переменная, которая содержит в себе статус авторизации посетителя. Если посетитель залогинен, переменная `user.isLoggedIn` принимает значение 'true'. В обратном случае - 'false'.

### <a name="5"></a>user.firstName
------
Тип данных: строка.

`user.firstName` - зарезервированная переменная, которая содержит в себе имя посетителя.

### <a name="6"></a>user.lastName
------
Тип данных: строка.

`user.lastName` - зарезервированная переменная, которая содержит в себе фамилию посетителя.

### <a name="7"></a>user.isReturning
------
Тип данных: boolean.

`user.isReturning` содержит в себе информацию о номере посещения сайта пользователем. В случае, если пользователь посещает сайт впервые, переменная принимает значение 'false'. В обратном случае - 'true'.

### <a name="8"></a>user.isSubscribed
------
Тип данных: boolean.

`user.isSubscribed` - зарезервированная переменная, которая содержит в себе информацию о статусе подписке пользователя на email-рассылку. Если пользователь подписан email-рассылку, переменная принимает значение 'true'. В обратном случае - 'false'.

### <a name="9"></a>user.hasTransacted
------
Тип данных: boolean.

`user.hasTransacted` - содержит в себе информацию о покупках пользователя. Если пользователь ранее создавал заказы, переменная принимает значение 'true'. В обратном случае - 'false'.

### <a name="10"></a>user.lastTransactionDate
------
Тип данных: строка в формате ISO 8601.

`user.lastTransactionDate` - содержит в себе дату оформления последнего заказа пользователя.
>Не объявляйте переменную, если пользователь не создавал заказы ранее

### <a name="11"></a>user.lastDeliveryDate
------
Тип данных: строка в формате ISO 8601.

`user.lastDeliveryDate` - содержит в себе дату доставки последнего заказа пользователя.
>Не объявляйте переменную, если ни один заказ не был доставлен пользователю

### <a name="12"></a>user.birthDate
------
Тип данных: строка в формате ISO 8601.

`user.birthDate` - содержит в себе дату рождения пользователя.
>Не объявляйте переменную, если системе не известна дата рождения пользователя

### <a name="13"></a>user.googleClientId
------
Тип данных: строка.

`user.googleClientId` - содержит в себе идентификатор браузера в системе Google Analytics.
>Данная переменная объявляется и заполняется автоматически библиотекой SegmentStream при включении интеграции с GA через SegmentStream.

### <a name="14"></a>user.segment
------
Тип данных: объект.

`user.segment` - объект, который содержит в себе переменные, характеризующие пользователя.
> Если вы используете различные виды сегментации своих пользователей: RFM, LTV, Sale и прочее - описывайте эти признаки внутри вложенного объекта `digitalData.user.segment`.
